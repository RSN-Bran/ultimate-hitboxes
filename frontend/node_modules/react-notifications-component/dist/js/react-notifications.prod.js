module.exports=function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=2)}([function(t,i){t.exports=require("react")},function(t,i,e){},function(t,i,e){"use strict";e.r(i),e.d(i,"store",(function(){return m}));var n=e(0),o=e.n(n);const s=!0,a=768,r=325,c="notification__item";var l,h,u,d;!function(t){t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_CENTER="bottom-center",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.TOP_CENTER="top-center",t.CENTER="center",t.TOP_FULL="top-full",t.BOTTOM_FULL="bottom-full"}(l||(l={})),function(t){t.TOP="top",t.BOTTOM="bottom"}(h||(h={})),function(t){t.SUCCESS="success",t.DANGER="danger",t.INFO="info",t.DEFAULT="default",t.WARNING="warning"}(u||(u={})),function(t){t.TIMEOUT="timeout",t.CLICK="click",t.TOUCH="touch",t.MANUAL="manual"}(d||(d={}));var m=new class{constructor(){this.incrementCounter=()=>this.counter+=1,this.getCounter=()=>this.counter,this.counter=0,this.add=null}addNotification(t){this.incrementCounter();const i=function(t,i,e){const n=t,{id:o,type:s,insert:a,content:r,container:c,animationIn:l,animationOut:h,slidingEnter:d,slidingExit:p,touchRevert:E,touchSlidingExit:T,dismiss:N,width:O,onRemoval:g}=n;n.id=o||m.getCounter().toString(),n.type=r?null:s.toLowerCase(),i&&!r&&(n.userDefinedTypes=function(t,i){const{content:e,type:n}=t;if(e)return;if(n===u.SUCCESS||n===u.DANGER||n===u.INFO||n===u.DEFAULT||n===u.WARNING||!i)return;return i}(n,i));n.width=f(O)?e:O,n.container=c.toLowerCase(),n.insert=(a||"top").toLowerCase(),n.dismiss=function(t){const i=t,e={duration:0,click:!0,touch:!0,onScreen:!1,pauseOnHover:!1,waitForAnimation:!1,showIcon:!1};if(!i)return e;return Object.keys(e).forEach(t=>{f(i[t])&&(i[t]=e[t])}),i}(N),n.animationIn=l||[],n.animationOut=h||[],n.onRemoval=g||(()=>{});const b=(t,i,e)=>({duration:t,timingFunction:i,delay:e});n.slidingEnter=v(d,b(600,"linear",0)),n.slidingExit=v(p,b(600,"linear",0)),n.touchRevert=v(E,b(600,"linear",0));const S=T||{},y=S.swipe||{},_=S.fade||{};return n.touchSlidingExit=S,n.touchSlidingExit.swipe=v(y,b(600,"linear",0)),n.touchSlidingExit.fade=v(_,b(300,"linear",0)),n}(t,this.types,this.defaultNotificationWidth);return this.add(i)}register(t){const{addNotification:i,removeNotification:e,removeAllNotifications:n,types:o,defaultNotificationWidth:s}=t;this.add=i,this.removeNotification=e,this.removeAllNotifications=n,this.defaultNotificationWidth=s,this.types=o}};const f=t=>null==t;function p(t){return t===l.BOTTOM_FULL||t===l.BOTTOM_LEFT||t===l.BOTTOM_RIGHT||t===l.BOTTOM_CENTER}function E(t){return t===l.TOP_FULL||t===l.TOP_LEFT||t===l.TOP_RIGHT||t===l.TOP_CENTER}function T(t){const{type:i,content:e,userDefinedTypes:n}=t,o=[c];if(e)return o;if(f(n))return function(t){switch(t){case u.DEFAULT:return[c,"notification__item--default"];case u.SUCCESS:return[c,"notification__item--success"];case u.DANGER:return[c,"notification__item--danger"];case u.WARNING:return[c,"notification__item--warning"];case u.INFO:return[c,"notification__item--info"];default:return[c]}}(i);const s=n.find(t=>t.name===i);return o.concat(s.htmlClasses)}function N({duration:t,timingFunction:i,delay:e},n){return`${t}ms ${n} ${i} ${e}ms`}function v(t,{duration:i,timingFunction:e,delay:n}){const o=t||{};return f(o.duration)&&(o.duration=i),f(o.timingFunction)&&(o.timingFunction=e),f(o.delay)&&(o.delay=n),o}class O{constructor(t,i){this.callback=t,this.remaining=i,this.resume()}pause(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.start}resume(){this.start=Date.now(),clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}clear(){clearTimeout(this.timerId)}}class g extends o.a.Component{constructor(t){super(t),this.onClick=()=>{const{notification:{dismiss:t}}=this.props;(t.click||t.showIcon)&&this.removeNotification(d.CLICK)},this.onTouchStart=t=>{const{pageX:i}=t.touches[0];this.setState(({parentStyle:t})=>({startX:i,currentX:i,parentStyle:Object.assign(Object.assign({},t),{position:"relative"})}))},this.onTouchMove=t=>{const{pageX:i}=t.touches[0],{startX:e}=this.state,{toggleRemoval:n,notification:{id:o,onRemoval:s,slidingExit:a,touchSlidingExit:{swipe:r,fade:c}}}=this.props,l=i-e,{offsetWidth:h}=this.rootElementRef.current,u=window.innerWidth+h,m=(i-e>=0?u:-u)+"px";if(function(t,i){return Math.abs(t)>=.4*i}(l,h)){const t=N(r,"left"),i=N(c,"opacity"),e=()=>{n(o,()=>s(o,d.TOUCH))};return this.setState(({parentStyle:n})=>({touchEnabled:!1,parentStyle:Object.assign(Object.assign({},n),{left:m,opacity:0,transition:`${t}, ${i}`}),onTransitionEnd:()=>{this.setState(({parentStyle:t})=>({parentStyle:Object.assign(Object.assign({},t),{height:"0px",overflow:"hidden",transition:N(a,"height")}),onTransitionEnd:e}))}}))}return this.setState(({parentStyle:t})=>({currentX:i,parentStyle:Object.assign(Object.assign({},t),{left:0+l+"px"})}))},this.onTouchEnd=()=>{const{notification:{touchRevert:t}}=this.props;this.setState(({parentStyle:i})=>({parentStyle:Object.assign(Object.assign({},i),{left:0,transition:N(t,"left")})}))},this.onMouseEnter=()=>{this.timer?this.timer.pause():this.setState({animationPlayState:"paused"})},this.onMouseLeave=()=>{this.timer?this.timer.resume():this.setState({animationPlayState:"running"})},this.rootElementRef=o.a.createRef();const{defaultNotificationWidth:i,notification:e,isMobile:n}=t,{width:s,container:a}=e;this.state={parentStyle:{height:"0px",overflow:"hidden",width:(s||i)+"px"},htmlClassList:T(e),animationPlayState:"running",touchEnabled:!0};const r=-1!==[l.TOP_FULL,l.BOTTOM_FULL,l.TOP_CENTER,l.BOTTOM_CENTER,l.CENTER].indexOf(a);(n||r)&&(this.state.parentStyle.width="100%")}componentWillUnmount(){this.timer&&this.timer.clear()}componentDidMount(){const{notification:t,notificationsCount:i}=this.props,{dismiss:{duration:e,onScreen:n}}=t,o=function(t,i){return!(i<=1)&&i>1&&(t.insert===h.TOP&&E(t.container)||t.insert===h.BOTTOM&&p(t.container)||t.container===l.CENTER)}(t,i),{scrollHeight:s}=this.rootElementRef.current,a=()=>{if(!e||n)return;this.timer=new O(()=>this.removeNotification(d.TIMEOUT),e)};this.setState(({parentStyle:{width:i}})=>({parentStyle:{width:i,height:s+"px",transition:o?N(t.slidingEnter,"height"):"10ms height"},onTransitionEnd:a}),()=>{requestAnimationFrame(()=>{this.setState(i=>({htmlClassList:[...t.animationIn,...i.htmlClassList]}))})})}componentDidUpdate({hasBeenRemoved:t}){this.props.hasBeenRemoved&&!t&&this.removeNotification(d.MANUAL)}removeNotification(t){const{notification:i,toggleRemoval:e}=this.props,{id:n,onRemoval:o,dismiss:{waitForAnimation:s}}=i,a=[...i.animationOut,...T(i)],r=()=>e(n,()=>o(n,t)),c={height:"0px",overflow:"hidden",transition:N(i.slidingExit,"height")};return s?this.setState(({parentStyle:{width:t}})=>({htmlClassList:a,onAnimationEnd:()=>{this.setState({parentStyle:Object.assign({width:t},c),onTransitionEnd:r})}})):this.setState(({parentStyle:{width:t}})=>({parentStyle:Object.assign({width:t},c),onTransitionEnd:r,htmlClassList:a}))}renderTimer(){const{notification:{dismiss:t}}=this.props,{duration:i,onScreen:e}=t,{animationPlayState:n}=this.state;if(!i||!e)return;const s={animationName:"timer",animationDuration:i+"ms",animationTimingFunction:"linear",animationFillMode:"forwards",animationDelay:"0",animationPlayState:n};return o.a.createElement("div",{className:"notification__timer"},o.a.createElement("div",{className:"notification__timer-filler",onAnimationEnd:()=>this.removeNotification(d.TIMEOUT),style:s}))}renderCustomContent(){const{htmlClassList:t}=this.state,{notification:{id:i,content:e,dismiss:{duration:n,pauseOnHover:s}}}=this.props,a=n>0&&s;return o.a.createElement("div",{className:""+[...t].join(" "),onMouseEnter:a?this.onMouseEnter:null,onMouseLeave:a?this.onMouseLeave:null},o.a.isValidElement(e)?e:o.a.createElement(e,Object.assign({},{id:i})))}renderNotification(){const{notification:{title:t,message:i,dismiss:{showIcon:e,duration:n,pauseOnHover:s}}}=this.props,{htmlClassList:a}=this.state,r=n>0&&s;return o.a.createElement("div",{className:""+[...a].join(" "),onMouseEnter:r?this.onMouseEnter:null,onMouseLeave:r?this.onMouseLeave:null},o.a.createElement("div",{className:"notification__content"},e&&o.a.createElement("div",{className:"notification__close",onClick:this.onClick}),t&&o.a.createElement("div",{className:"notification__title"},t),o.a.createElement("div",{className:"notification__message"},i),this.renderTimer()))}render(){const{notification:{content:t,dismiss:{click:i}}}=this.props,{parentStyle:e,onAnimationEnd:n,onTransitionEnd:s,touchEnabled:a}=this.state;return o.a.createElement("div",{ref:this.rootElementRef,onClick:i?this.onClick:null,className:"notification",style:e,onAnimationEnd:n,onTransitionEnd:s,onTouchStart:a?this.onTouchStart:null,onTouchMove:a?this.onTouchMove:null,onTouchEnd:a?this.onTouchEnd:null},t?this.renderCustomContent():this.renderNotification())}}var b=g;e(1);class S extends o.a.Component{constructor(t){super(t),this.handleResize=()=>{this.setState({windowWidth:window.innerWidth})},this.add=t=>(this.setState(({notifications:i})=>({notifications:"top"===t.insert?[t,...i]:[...i,t]})),t.id),this.remove=t=>{this.setState(({notifications:i})=>({notifications:i.map(i=>(i.id===t&&(i.hasBeenRemoved=!0),i))}))},this.removeAllNotifications=()=>{this.setState({notifications:this.state.notifications.map(t=>Object.assign(Object.assign({},t),{hasBeenRemoved:!0}))})},this.toggleRemoval=(t,i)=>{this.setState(({notifications:i})=>({notifications:i.filter(({id:i})=>i!==t)}),i)},this.state={isMobile:f(t.isMobile)?s:t.isMobile,breakpoint:f(t.breakpoint)?a:t.breakpoint,notifications:[],windowWidth:void 0}}componentDidMount(){const{types:t,defaultNotificationWidth:i}=this.props;m.register({addNotification:this.add,removeNotification:this.remove,removeAllNotifications:this.removeAllNotifications,defaultNotificationWidth:i||r,types:t}),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderNotifications(t,i){return t.map(e=>o.a.createElement(b,{id:e.id,key:e.id,isMobile:i,defaultNotificationWidth:this.props.defaultNotificationWidth,notification:e,toggleRemoval:this.toggleRemoval,notificationsCount:t.length,hasBeenRemoved:e.hasBeenRemoved}))}renderMobileNotifications(t){const{className:i,id:e}=t,{notifications:n}=this.state,s=function(t){const i=[],e=[];return t.forEach(t=>{const{container:n}=t,{CENTER:o}=l;E(n)||n===o?i.push(t):p(n)&&e.push(t)}),{top:i,bottom:e}}(n),a=this.renderNotifications(s.top,!0),r=this.renderNotifications(s.bottom,!0);return o.a.createElement("div",{id:e,key:"mobile",className:"notifications-component "+(i||"")},o.a.createElement("div",{className:"notification-container--mobile-top"},a),o.a.createElement("div",{className:"notification-container--mobile-bottom"},r))}renderScreenNotifications(t){const{className:i,id:e}=t,{notifications:n}=this.state,s=function(t){const i=[],e=[],n=[],o=[],s=[],a=[],r=[],c=[],h=[];return t.forEach(t=>{const{container:u}=t;u===l.TOP_FULL?c.push(t):u===l.BOTTOM_FULL?h.push(t):u===l.TOP_LEFT?i.push(t):u===l.TOP_RIGHT?e.push(t):u===l.TOP_CENTER?n.push(t):u===l.BOTTOM_LEFT?o.push(t):u===l.BOTTOM_RIGHT?s.push(t):u===l.BOTTOM_CENTER?a.push(t):u===l.CENTER&&r.push(t)}),{topFull:c,bottomFull:h,topLeft:i,topRight:e,topCenter:n,bottomLeft:o,bottomRight:s,bottomCenter:a,center:r}}(n),a=this.renderNotifications(s.topFull,!1),r=this.renderNotifications(s.bottomFull,!1),c=this.renderNotifications(s.topLeft,!1),h=this.renderNotifications(s.topRight,!1),u=this.renderNotifications(s.topCenter,!1),d=this.renderNotifications(s.bottomLeft,!1),m=this.renderNotifications(s.bottomRight,!1),f=this.renderNotifications(s.bottomCenter,!1),p=this.renderNotifications(s.center,!1);return o.a.createElement("div",{id:e,key:"screen",className:"notifications-component "+(i||"")},o.a.createElement("div",{className:"notification-container--top-full"},a),o.a.createElement("div",{className:"notification-container--bottom-full"},r),o.a.createElement("div",{className:"notification-container--top-left"},c),o.a.createElement("div",{className:"notification-container--top-right"},h),o.a.createElement("div",{className:"notification-container--bottom-left"},d),o.a.createElement("div",{className:"notification-container--bottom-right"},m),o.a.createElement("div",{className:"notification-container--top-center"},u),o.a.createElement("div",{className:"notification-container--center"},o.a.createElement("div",{className:"flex-center"},p)),o.a.createElement("div",{className:"notification-container--bottom-center"},f))}render(){const{isMobile:t}=this.props,{windowWidth:i,breakpoint:e}=this.state;return t&&i<=e?this.renderMobileNotifications(this.props):this.renderScreenNotifications(this.props)}}var y=S;i.default=y}]);
//# sourceMappingURL=react-notifications.prod.js.map